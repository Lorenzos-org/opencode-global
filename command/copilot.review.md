description: Perform AI-assisted code review with constitutional compliance checking, security vulnerability assessment, and quality metrics validation
mode: command
agent: @code-analyzer
tools: read, write, bash
permissions:
  read: allow
  write: ask
  bash: ask

# Copilot Review Command

## Purpose
Executes AI-assisted code review while validating constitutional compliance, assessing security vulnerabilities, and ensuring quality metrics are met throughout the codebase.

## Workflow

### Step 1: Code Analysis Preparation
- Identify codebase scope and review objectives
- Establish constitutional compliance criteria
- Set up security vulnerability assessment framework
- Configure quality metrics validation parameters
- Prepare review reporting templates

### Step 2: Constitutional Compliance Checking
- Analyze code against OpenCode constitutional principles
- Validate governance compliance in implementation
- Check stakeholder engagement in code decisions
- Assess transparency and accountability mechanisms
- Verify constitutional standards integration

### Step 3: Security Vulnerability Assessment
- Perform comprehensive security code analysis
- Identify potential security vulnerabilities
- Validate security control implementation
- Check compliance with security standards
- Assess threat mitigation effectiveness

### Step 4: Quality Metrics Validation
- Evaluate code quality against established metrics
- Check coding standards and best practices
- Validate testing coverage and quality
- Assess performance optimization compliance
- Verify maintainability and readability standards

### Step 5: Code Review & Analysis
- Perform detailed code review and analysis
- Identify architectural and design issues
- Check implementation consistency
- Validate error handling and logging
- Assess documentation completeness

### Step 6: Review Reporting & Recommendations
- Generate comprehensive code review report
- Document constitutional compliance status
- Report security vulnerability findings
- Present quality metrics assessment results
- Provide actionable improvement recommendations

## Input Requirements
- Complete codebase for review
- Constitutional standards and guidelines
- Security assessment criteria and checklists
- Quality metrics and validation frameworks
- Code review templates and reporting formats
- Implementation documentation

## Output Artifacts
- Comprehensive AI-assisted code review report
- Constitutional compliance validation summary
- Security vulnerability assessment findings
- Quality metrics validation results
- Detailed improvement recommendations
- Code quality dashboard and metrics summary

## Review Criteria
- **Constitutional Compliance**: Code aligns with OpenCode constitutional principles
- **Security Standards**: All security requirements properly implemented
- **Quality Assurance**: Code meets established quality metrics
- **Best Practices**: Implementation follows industry best practices
- **Maintainability**: Code is readable, documented, and maintainable
- **Performance**: Code meets performance and efficiency requirements

## Assessment Framework
1. **Constitutional Alignment**: Validate code against constitutional governance principles
2. **Security Compliance**: Ensure all security standards are met
3. **Quality Metrics**: Verify code quality against established metrics
4. **Implementation Standards**: Check adherence to coding standards
5. **Documentation Quality**: Assess code documentation completeness
6. **Testing Coverage**: Validate test coverage and quality

## Integration Points
- Integration with constitutional governance framework
- Connection to security assessment procedures
- Alignment with quality assurance processes
- Coordination with development team workflows
- Integration with continuous integration pipelines
- Support for automated review processes

## Review Process
- Automated analysis of code patterns and structures
- Constitutional compliance validation at multiple levels
- Security vulnerability scanning and assessment
- Quality metrics calculation and validation
- Comprehensive reporting with actionable insights
- Integration with development workflow tools