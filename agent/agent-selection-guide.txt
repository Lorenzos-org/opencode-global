# ğŸ¯ OpenCode Agent Selection Guide

**Generated**: December 8, 2025  
**Purpose**: Interactive guide for selecting the right agent for any task  
**Ecosystem Version**: OpenCode v2.0 with 44+ specialized agents

---

## ğŸš€ QUICK AGENT SELECTOR

### **What do you want to do?**

#### ğŸ“‹ **Planning & Architecture**
```
@plan â†’ Read-only analysis, SDD specifications, architecture planning
Use when: You need to analyze requirements, create specifications, or plan architecture
Examples: "Plan OAuth2 implementation", "Design microservices architecture", "Create API specification"
```

#### ğŸ› ï¸ **Implementation & Development**
```
@developer â†’ Capability-based development (backend/frontend/fullstack)
Use when: You need to write code, implement features, or build systems
Examples: "Implement user authentication", "Create React components", "Build REST API"
```

#### ğŸ” **Analysis & Review**
```
@code-reviewer â†’ Code quality, best practices, maintainability
@security-specialist â†’ Security analysis, vulnerability assessment, compliance
@performance-specialist â†’ Performance analysis, optimization, monitoring
Use when: You need to analyze existing code or systems
Examples: "Review authentication code", "Analyze security vulnerabilities", "Optimize database queries"
```

#### ğŸ§ª **Testing & Quality**
```
@test-agent â†’ Comprehensive testing, coverage analysis, quality assurance
Use when: You need to test code, validate quality, or ensure reliability
Examples: "Test user registration flow", "Generate test coverage report", "Validate API quality"
```

#### ğŸš€ **Coordination & Orchestration**
```
@build â†’ Multi-agent workflows, complex feature implementation
Use when: You need to coordinate multiple agents or implement complex features
Examples: "Build complete e-commerce system", "Implement OAuth2 with full testing", "Create microservices with monitoring"
```

#### ğŸ“š **Documentation & Research**
```
@documentation-writer â†’ Technical documentation, API docs, guides
@research â†’ Technical research, decision support, best practices
Use when: You need to document systems or research solutions
Examples: "Document API endpoints", "Research authentication options", "Create setup guide"
```

#### âš™ï¸ **Infrastructure & Automation**
```
@cicd-agent â†’ CI/CD pipelines, deployment automation, PR automation
Use when: You need to set up deployment, automation, or infrastructure
Examples: "Set up GitHub Actions", "Create deployment pipeline", "Automate testing"
```

---

## ğŸ­ TASK-BASED SELECTION MATRIX

### **By Task Complexity**

| Complexity | Recommended Agent | Why |
|------------|-------------------|-----|
| **Simple** (single file, clear scope) | Direct specialist agent | Faster, focused |
| **Moderate** (multiple files, one domain) | Specialist agent with context | Domain expertise |
| **Complex** (multiple domains, unclear scope) | @general â†’ routing | Proper delegation |
| **Very Complex** (3+ domains, quality gates) | @build â†’ orchestration | Coordination needed |

### **By Domain**

| Domain | Primary Agent | Secondary Agents |
|--------|----------------|------------------|
| **Backend Development** | @developer[backend] | @security-specialist, @test-agent |
| **Frontend Development** | @developer[frontend] | @performance-specialist, @test-agent |
| **Full-Stack** | @developer[fullstack] | @security-specialist, @test-agent, @performance-specialist |
| **Security** | @security-specialist | @constitutional-audit, @code-reviewer |
| **Performance** | @performance-specialist | @developer, @test-agent |
| **Architecture** | @plan | @research, @constitutional-audit |
| **Testing** | @test-agent | @code-reviewer, @security-specialist |
| **Documentation** | @documentation-writer | @plan, @developer |
| **CI/CD** | @cicd-agent | @test-agent, @security-specialist |

---

## ğŸ”„ WORKFLOW PATTERNS

### **Pattern 1: Sequential Development**
```
User Request â†’ @general â†’ @plan â†’ @developer â†’ @test-agent â†’ @build
Best for: New features with clear requirements
```

### **Pattern 2: Security-First Development**
```
User Request â†’ @general â†’ @security-specialist â†’ @developer â†’ @test-agent â†’ @security-specialist â†’ @build
Best for: Security-critical features
```

### **Pattern 3: Performance-Optimized Development**
```
User Request â†’ @general â†’ @performance-specialist â†’ @developer â†’ @test-agent â†’ @performance-specialist â†’ @build
Best for: Performance-critical features
```

### **Pattern 4: Research-Driven Development**
```
User Request â†’ @general â†’ @research â†’ @plan â†’ @developer â†’ @test-agent â†’ @build
Best for: Technology decisions, new approaches
```

### **Pattern 5: Compliance-Driven Development**
```
User Request â†’ @general â†’ @constitutional-audit â†’ @plan â†’ @developer â†’ @test-agent â†’ @security-specialist â†’ @build
Best for: Regulated industries, compliance requirements
```

---

## ğŸ¯ DECISION TREE

### **Step 1: What's your primary goal?**

#### ğŸ“‹ **Planning/Analysis**
- Need to analyze requirements? â†’ @plan
- Need to research options? â†’ @research
- Need to review existing code? â†’ @code-reviewer

#### ğŸ› ï¸ **Implementation**
- Need to write new code? â†’ @developer
- Need to modify existing code? â†’ @developer
- Need to integrate systems? â†’ @developer[fullstack]

#### ğŸ” **Quality/Testing**
- Need to test functionality? â†’ @test-agent
- Need to check security? â†’ @security-specialist
- Need to optimize performance? â†’ @performance-specialist

#### ğŸš€ **Coordination**
- Need to manage complex workflow? â†’ @build
- Need to set up automation? â†’ @cicd-agent
- Need to document system? â†’ @documentation-writer

### **Step 2: What are your constraints?**

#### ğŸ”’ **Security-Critical**
- Add @security-specialist to any workflow
- Consider @constitutional-audit for compliance
- Include security testing in @test-agent

#### âš¡ **Performance-Critical**
- Add @performance-specialist to any workflow
- Include performance testing in @test-agent
- Consider monitoring setup

#### ğŸ“‹ **Compliance-Required**
- Add @constitutional-audit to workflow
- Ensure documentation meets standards
- Include compliance testing

#### ğŸš€ **Production-Ready**
- Use @build for coordination
- Include full testing suite
- Add deployment automation via @cicd-agent

---

## ğŸª PRACTICAL EXAMPLES

### **Example 1: "I need to add user authentication"**
```
ğŸ¯ Goal: Implementation
ğŸ” Domain: Backend/Security
ğŸ“Š Complexity: Moderate

Recommended Workflow:
@general â†’ @plan â†’ @developer[backend] â†’ @security-specialist â†’ @test-agent â†’ @build

Why: Security-critical feature requiring planning, implementation, security review, and testing
```

### **Example 2: "My API is slow, fix it"**
```
ğŸ¯ Goal: Performance Optimization
ğŸ” Domain: Performance/Backend
ğŸ“Š Complexity: Moderate

Recommended Workflow:
@general â†’ @performance-specialist â†’ @developer[backend] â†’ @test-agent â†’ @build

Why: Performance issue requiring analysis, optimization, and validation
```

### **Example 3: "Set up CI/CD for my project"**
```
ğŸ¯ Goal: Infrastructure/Automation
ğŸ” Domain: DevOps/Testing
ğŸ“Š Complexity: Complex

Recommended Workflow:
@general â†’ @cicd-agent â†’ @test-agent â†’ @security-specialist â†’ @build

Why: Complex infrastructure setup requiring testing and security validation
```

### **Example 4: "Plan migration to microservices"**
```
ğŸ¯ Goal: Planning/Architecture
ğŸ” Domain: Architecture/Research
ğŸ“Š Complexity: Very Complex

Recommended Workflow:
@general â†’ @research â†’ @plan â†’ @constitutional-audit â†’ @build

Why: Major architectural decision requiring research, planning, and compliance validation
```

### **Example 5: "Document my API"**
```
ğŸ¯ Goal: Documentation
ğŸ” Domain: Documentation/Analysis
ğŸ“Š Complexity: Simple

Recommended Workflow:
@general â†’ @documentation-writer

Why: Straightforward documentation task
```

---

## ğŸš¨ COMMON MISTAKES TO AVOID

### **âŒ Using @build for Simple Tasks**
- **Problem**: Overhead for simple tasks
- **Solution**: Use direct specialist agents
- **Example**: Use @developer instead of @build for single feature

### **âŒ Skipping @general for Complex Tasks**
- **Problem**: Wrong agent selection
- **Solution**: Start with @general for routing
- **Example**: Use @general for "improve my system" (unclear scope)

### **âŒ Forgetting Security for Critical Features**
- **Problem**: Security vulnerabilities
- **Solution**: Always include @security-specialist
- **Example**: Add @security-specialist for authentication, payments, data handling

### **âŒ Ignoring Performance for User-Facing Features**
- **Problem**: Poor user experience
- **Solution**: Include @performance-specialist
- **Example**: Add @performance-specialist for APIs, UI components, data processing

### **âŒ Not Using @plan for Complex Features**
- **Problem**: Poor architecture, rework
- **Solution**: Start with @plan for complex features
- **Example**: Use @plan for "build e-commerce system" (complex architecture)

---

## ğŸ¯ QUICK REFERENCE CHEAT SHEET

### **One-Liner Agent Selection**
```
"Plan X" â†’ @plan
"Build X" â†’ @developer
"Test X" â†’ @test-agent
"Review X" â†’ @code-reviewer
"Secure X" â†’ @security-specialist
"Optimize X" â†’ @performance-specialist
"Document X" â†’ @documentation-writer
"Research X" â†’ @research
"Deploy X" â†’ @cicd-agent
"Complex X" â†’ @build
"Unsure X" â†’ @general
```

### **Workflow Templates**
```
New Feature: @general â†’ @plan â†’ @developer â†’ @test-agent â†’ @build
Security Feature: + @security-specialist
Performance Feature: + @performance-specialist
Complex Feature: @build (handles all coordination)
Documentation: @documentation-writer
Infrastructure: @cicd-agent
```

### **Quality Gates Checklist**
```
âœ… Planning done? (@plan)
âœ… Code implemented? (@developer)
âœ… Security reviewed? (@security-specialist)
âœ… Performance checked? (@performance-specialist)
âœ… Tests passing? (@test-agent)
âœ… Documentation updated? (@documentation-writer)
âœ… Ready for production? (@build)
```

---

## ğŸ”§ ADVANCED SELECTION STRATEGIES

### **Multi-Domain Decision Matrix**

| Primary Domain | Secondary Domain | Recommended Approach |
|----------------|-------------------|---------------------|
| Implementation + Security | @developer + @security-specialist | Sequential or parallel |
| Implementation + Performance | @developer + @performance-specialist | Sequential with optimization |
| Planning + Research | @plan + @research | Research first, then planning |
| Testing + Security | @test-agent + @security-specialist | Security-focused testing |
| Documentation + Planning | @documentation-writer + @plan | Plan first, then document |
| CI/CD + Testing | @cicd-agent + @test-agent | Automated testing pipeline |

### **Capability-Based Selection**

#### **@developer Capabilities**
```
[CAPABILITY]: backend â†’ Server-side development, APIs, databases
[CAPABILITY]: frontend â†’ Client-side development, UI, state management
[CAPABILITY]: fullstack â†’ End-to-end feature implementation

Usage: @developer[capability=backend]
```

#### **@security-specialist Capabilities**
```
[CAPABILITY]: review â†’ Static code analysis, vulnerability assessment
[CAPABILITY]: audit â†’ Compliance verification, infrastructure review
[CAPABILITY]: assessment â†’ Threat modeling, risk analysis
[CAPABILITY]: monitoring â†’ Event monitoring, incident response

Usage: @security-specialist[capability=review]
```

#### **@performance-specialist Capabilities**
```
[CAPABILITY]: analysis â†’ Profiling, bottleneck identification
[CAPABILITY]: optimization â†’ Code optimization, tuning
[CAPABILITY]: monitoring â†’ Performance tracking, alerting
[CAPABILITY]: engineering â†’ Scalability design, architecture

Usage: @performance-specialist[capability=optimization]
```

---

## ğŸ“Š PERFORMANCE CONSIDERATIONS

### **Agent Selection Efficiency**

| Selection Method | Time to Decision | Accuracy | Best For |
|------------------|-------------------|------------|-----------|
| Direct Specialist | <2 seconds | 95% | Clear, single-domain tasks |
| @general Routing | <5 seconds | 98% | Complex or ambiguous tasks |
| @build Orchestration | <10 seconds | 99% | Multi-domain workflows |
| Manual Selection | Variable | 70% | Simple tasks, experienced users |

### **Workflow Efficiency Tips**

#### **Optimal Agent Chain Length**
```
âœ… Optimal: 3-5 agents
- Balances efficiency with quality
- Maintains context effectively
- Provides comprehensive coverage

âŒ Too Short (<3): May miss quality gates
âŒ Too Long (>5): Diminishing returns, context loss
```

#### **Parallel Execution Opportunities**
```
Parallel Validation:
â”œâ”€ @test-agent (testing)
â”œâ”€ @security-specialist (security)
â”œâ”€ @performance-specialist (performance)
â””â”€ @code-reviewer (code quality)

Benefits: 60-80% faster than sequential
```

---

## ğŸ“ USER EXPERIENCE OPTIMIZATION

### **For Beginners**
1. **Start with @general** for any complex task
2. **Use simple, clear language** in requests
3. **Provide context** about your project and goals
4. **Follow the workflow suggestions** provided by agents
5. **Ask for clarification** if unsure about agent recommendations

### **For Advanced Users**
1. **Direct agent invocation** for well-understood tasks
2. **Capability-based selection** for specialized needs
3. **Workflow optimization** using parallel execution
4. **Custom quality gates** for specific requirements
5. **Advanced chaining patterns** for complex scenarios

### **For Teams**
1. **Standardize workflows** using documented patterns
2. **Share agent configurations** across team members
3. **Use @build for coordination** of complex features
4. **Implement quality gates** consistently
5. **Document team-specific** agent selection rules

---

## ğŸ” TROUBLESHOOTING SELECTION

### **Wrong Agent Selected**
```
Symptoms:
- Agent doesn't understand the task
- Results don't match expectations
- Agent asks for different type of work

Solutions:
1. Use @general for re-routing
2. Provide more specific context
3. Break task into smaller pieces
4. Use @build for coordination
```

### **Workflow Inefficiency**
```
Symptoms:
- Taking too long to complete
- Multiple handoffs between agents
- Context loss between steps

Solutions:
1. Use @build for better coordination
2. Implement parallel execution
3. Optimize agent chain length
4. Improve context preservation
```

### **Quality Issues**
```
Symptoms:
- Poor code quality
- Missing security considerations
- Inadequate testing

Solutions:
1. Add quality gates to workflow
2. Include specialized agents (@security-specialist, @performance-specialist)
3. Use @test-agent for comprehensive testing
4. Implement @code-reviewer for quality checks
```

---

## ğŸ“ˆ CONTINUOUS IMPROVEMENT

### **Learning from Experience**
```
Track:
- Which agents work best for specific tasks
- Common workflow patterns in your projects
- Quality gate effectiveness
- Time efficiency of different approaches

Optimize:
- Agent selection based on historical data
- Workflow patterns for your specific use cases
- Quality gate requirements
- Context preservation strategies
```

### **Feedback Loops**
```
After each workflow:
1. Evaluate agent selection accuracy
2. Assess workflow efficiency
3. Measure quality outcomes
4. Document lessons learned
5. Update selection criteria
```

---

## ğŸ¯ CONCLUSION

This agent selection guide provides:

âœ… **Quick Decision Trees** for fast agent selection
âœ… **Comprehensive Matrices** for domain-specific choices
âœ… **Workflow Patterns** for common development scenarios
âœ… **Practical Examples** with real-world applications
âœ… **Troubleshooting Guide** for common selection issues
âœ… **Performance Optimization** tips for efficient workflows

**Key Principles:**
1. **Start with @general** for complex or unclear tasks
2. **Use direct specialists** for well-defined, single-domain tasks
3. **Leverage @build** for multi-domain, quality-critical workflows
4. **Include quality gates** (@security-specialist, @performance-specialist, @test-agent) for production-ready features
5. **Optimize workflows** based on your specific project needs and team experience

**Success comes from:**
- Clear understanding of task requirements
- Appropriate agent selection based on domain and complexity
- Effective workflow design with proper quality gates
- Continuous learning and optimization based on experience

---

*Last Updated: December 2025*
*Agent Count: 44+ specialized agents*
*Ecosystem Version: OpenCode v2.0 with Spec-Kit Integration*